#!/bin/bash

# Check if a command is passed
if [ $# -eq 0 ]; then
  echo "Usage: $0 '<command_or_script>'"
  exit 1
fi

# Run the command and capture its output
OUTPUT=$(eval "$@")

# Print the output
echo "$OUTPUT"

# Copy to clipboard based on OS
if command -v xclip &>/dev/null; then
  echo "$OUTPUT" | xclip -selection clipboard
  echo "Output copied to clipboard using xclip."
elif command -v xsel &>/dev/null; then
  echo "$OUTPUT" | xsel --clipboard
  echo "Output copied to clipboard using xsel."
elif command -v pbcopy &>/dev/null; then
  echo "$OUTPUT" | pbcopy
  echo "Output copied to clipboard using pbcopy (macOS)."
else
  echo "No clipboard tool found (xclip, xsel, or pbcopy). Please install one."
  exit 1
fi

